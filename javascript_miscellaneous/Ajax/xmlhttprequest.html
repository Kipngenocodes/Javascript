<!--The Native JavaScript approach using XMLHttpRequest represents the oldest method for asynchronous requests. 
It relies on the XMLHttpRequest object to create and send HTTP requests. 
This method involves setting up callback functions to handle various states of the request,
making it suitable for simpler scenarios. However, it has some limitations compared to more modern approaches.-->

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>XMLHttpRequest In JavaScript</title>
        <style>
            body {
                font-family: Arial, sans-serif;
            }
            #content {
                margin: 20px;
            }
        </style>
    <body>
        <h2>XMLHttpRequest Example</h2>
        <button onclick="fetchData()">Fetch Data</button>
        <pre id="result"></pre>


        <script>
            function fetchData() {
                const xhr = new XMLHttpRequest();
                xhr.open('GET', 'https://jsonplaceholder.typicode.com/posts/1', true);
                
                xhr.onreadystatechange = function() {
                    if (xhr.readyState === 4 && xhr.status === 200) {
                        const response = JSON.stringify(JSON.parse(xhr.responseText), null, 2);
                        document.getElementById('result').innerText = 
                            document.getElementById('result').innerText = 'Native XMLHttpRequest:\n' + responseData;
                    } else {
                        document.getElementById('result').innerHTML = 
                            'Error fetching data: ' + xhr.status;
                    }
                };

                xhr.onerror = function() {
                    document.getElementById('content').innerHTML = 
                        'Request failed';
                };

                xhr.send();
            }
        </script>
    </head>